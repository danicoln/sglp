<div class="container">

<p-card header="Exame da Matéria">
  <p-toast></p-toast>

  <!--Botões de Criar e Deletar-->
  <p-toolbar styleClass="mb-4 gap-2">
    <ng-template pTemplate="left">
      <app-button 
        class="mr-2" 
        label="Novo" 
        icon="pi pi-plus" 
        [routerLink]="['novo']" 
        [disabled]="exame.id != null"
        >
      </app-button>

       <!-- Botão de Voltar -->
      <app-button
        icon="pi pi-angle-left"
        label="Laudo"
        class="ml-2"
        severity="info"
        [raised]="true"
        (click)="voltar()"
        >
      </app-button>
    </ng-template>
  </p-toolbar>

  <!--Detalhes do Exame-->
  
  <div *ngIf="exame?.id; else noExame">
    <p-table [value]="[exame]">
      <ng-template pTemplate="header">
        <tr>
          <th>ID</th>
          <th>Descrição</th>
          <th>Quantidade de Objetos</th>
          <th>Editar</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-exame>
        <tr>
          <td>{{ exame.id }}</td>
          <td>{{ exame.descricao }}</td>
          <td>{{ objetos ? objetos.length : 0 }}</td>
          <td>
            <app-button
              severity="success"
              icon="pi pi-pencil"
              [text]="true"
              (click)="edit(exame.id)"
              >
            </app-button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>

  <ng-template #noExame>
    <p>Nenhum exame encontrado para este laudo.</p>
  </ng-template>

  <p-confirmDialog [style]="{width: '450px'}"></p-confirmDialog>
</p-card>

</div>