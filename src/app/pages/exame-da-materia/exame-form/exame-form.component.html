<form [formGroup]="resourceForm" (ngSubmit)="submitForm()">
  <p-toast></p-toast>

  <p-card>

    <p-fieldset
      [collapsed]="true"
      legend="Exame da Matéria" [toggleable]="true" [collapsed]="false">

        <!-- Campos do Exame -->
        <div class="form-group">
          <label for="descricao">Descrição:</label>
            <textarea
              class="form-control col-12"
              pInputTextarea
              rows="5" cols="30"
              type="text"
              formControlName="descricao"
              >
            </textarea>
        <div *ngIf="resourceForm.get('descricao')?.invalid && resourceForm.get('descricao')?.touched">
          <small class="text-danger">Descrição é obrigatória</small>
        </div>
      </div>



      <!--
        <div formArrayName="objetos">
          <div *ngFor="let objLaudo of objetos; let i = index">
            <app-objeto-laudo
              [formGroupName]="i"
              (objetoAtualizado)="atualizarObjeto($event)"
              >
            </app-objeto-laudo>

        </div>
        <a *ngIf="!formularioAberto"
          (click)="abrirCamposObjeto()"
          icon="pi pi-plus"
          pRipple
          class="p-button-info"
          pButton
          label="Objeto"
          severity="info mr-2"
          >
        </a>

      </div>
      -->
      <app-objeto-laudo-form
        (objetoAdicionado)="adicionarObjeto($event)"
        >
      </app-objeto-laudo-form>

      <ul>
        <li *ngFor="let objeto of objetos">
          {{objeto.documento?.nomeTitulo}}
        </li>
      </ul>



  </p-fieldset>
  <!-- Lista de Objetos de Laudo
  <div *ngFor="let obj of objetos; let i = index">

    <p-panel [header]="obj.documento?.nomeTitulo" [toggleable]="true" [collapsed]="true">
      <p>{{obj.documento?.descricao}}</p>
      <p>{{obj.documento?.data | date: 'dd/MM/yyyy' }}</p>

    </p-panel>
  </div> -->
  <!-- Fim da Lista de Objetos de Laudo -->

    <div class="btn-salvar">
      <button
        icon="pi pi-save"
        pRipple
        class="p-button-success"
        type="submit"
        pButton
        label=" Salvar"
        severity="success mr-2"
        >
      </button>
    </div>

  </p-card>

</form>
